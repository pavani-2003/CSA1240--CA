START: LXI H,8000H
MVI D,00H
MOV C,M
DCR C
INX H
LOOP: MOV A,M
INX H
CMP M
JC AGAIN
MOV B,M
MOV M,A
DCX H
MOV M,B
INX H
MVI D,01H
AGAIN: DCR C
JNZ LOOP
MOV A,D
RRC
JC START
HLT
